(this.webpackJsonpproject1=this.webpackJsonpproject1||[]).push([[0],{32:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(16),i=n.n(s),o=(n(32),n(8)),u=n(5),l=n(3),j=(n(37),"SIGNUP"),b="LOGIN",d="LOGOUT",p="POKEMON",O="ABILITIES",h=["/client","/","/client/signup","/client/login","/client/pokemon","/client/abilities"],m="http://54.193.1.233:8080/server",x=n(6),f=n.n(x),v=n(12),g=function(e,t){return{type:e,payload:t}};var y=function(){var e=Object(o.c)((function(e){return e.user}));return Object(c.jsxs)("nav",{children:[Object(c.jsx)(u.c,{to:"/client",exact:!0,activeClassName:"nav-selected",children:"Home"}),e&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(u.c,{to:"/client/pokemon",exact:!0,activeClassName:"nav-selected",children:"Pokemon"}),Object(c.jsx)(u.c,{to:"/client/abilities",exact:!0,activeClassName:"nav-selected",children:"Abilities"})]}),"admin"===(null===e||void 0===e?void 0:e.username)&&Object(c.jsx)(u.c,{to:"/client/admin",exact:!0,activeClassName:"nav-selected",children:"Admin"})]})},N=function(){return Object(c.jsx)("footer",{children:Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:"Client: Nick Barak"}),Object(c.jsx)("div",{children:"Server: Eric Huang"}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{children:"Revature | December 2020"})]})})},k=function(e){var t=e.children,n=Object(o.c)((function(e){return e.user})),a=Object(o.b)(),r=Object(l.f)(),s=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(m+"/logout");case 2:e.sent.ok&&(a(g(d,null)),r.push("/"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{children:[n?Object(c.jsx)("button",{className:"header-logout",onClick:s,children:"Log out"}):Object(c.jsxs)("span",{className:"header-login",children:[Object(c.jsx)("button",{children:Object(c.jsx)(u.b,{to:"/client/signup",children:"Sign up"})}),Object(c.jsx)("button",{children:Object(c.jsx)(u.b,{to:"/client/login",children:"Log in"})})]}),Object(c.jsx)(y,{}),t,Object(c.jsx)(N,{})]})},S=function(e){var t=Object(o.c)((function(e){return e.user}));return Object(c.jsx)(k,{children:Object(c.jsxs)("div",{className:"PAGE-HOME body",children:[Object(c.jsx)("h1",{children:"Welcome to RRDex!"}),t?Object(c.jsxs)("div",{children:["What will you learn about pokemon today, ",Object(c.jsx)("strong",{children:t.username}),"?"]}):Object(c.jsx)("div",{children:"Log in or sign up to view the site!"})]})})},w=n(4),C=function(e){var t=e.pokemon;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Name: "}),Object(c.jsx)("span",{children:t.name})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Type: "}),Object(c.jsx)("span",{children:t.type1===t.type2?t.type1:"".concat(t.type1,", ").concat(t.type2)})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Ability: "}),Object(c.jsx)("span",{children:Object(c.jsx)(u.b,{to:{pathname:"/client/abilities",state:{abilityName:t.abilityObj.name}},children:t.abilityObj.name})})]})]})},E=function(e){var t=e.ability;return Object(c.jsxs)("li",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Name: "}),Object(c.jsx)("span",{children:t.name})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("strong",{children:"Description: "}),Object(c.jsx)("span",{children:t.description})]})]})};function P(e,t){switch(e){case p:if(!("name"in t)||!("type1"in t)||!("type2"in t)||!("abilityObj"in t))break;if(!("name"in t.abilityObj)||!("description"in t.abilityObj))break;return!0;case O:if(!("name"in t)||!("description"in t))break;return!0;default:return!1}return!1}var T=function(e){var t=e.type,n=Object(l.g)().state,r=Object(a.useState)(null),s=Object(w.a)(r,2),i=s[0],o=s[1],u=Object(a.useState)("name"),j=Object(w.a)(u,2),b=j[0],d=j[1],h=Object(a.useState)(""),x=Object(w.a)(h,2),g=x[0],y=x[1],N=Object(a.useRef)(null),S=Object(a.useState)(""),T=Object(w.a)(S,2),A=T[0],L=T[1],I=function(){var e=Object(v.a)(f.a.mark((function e(n){var c,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.preventDefault(),g){e.next=7;break}return e.next=4,fetch(m+"/".concat(t===p?"pokemon":"ability"));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,fetch(m+"/".concat(t===p?"pokemon":"ability","?").concat(b,"=").concat((null===(c=g[0])||void 0===c?void 0:c.toUpperCase())+g.slice(1)));case 9:a=e.sent;case 10:if(a.ok){e.next=13;break}return L("Error retrieving data"),e.abrupt("return");case 13:return L(""),e.next=16,a.json();case 16:r=e.sent,o(r),!g&&n&&n.target.reset();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){setTimeout(Object(v.a)(f.a.mark((function e(){var t,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.abilityName)){e.next=14;break}return y(n.abilityName),e.next=4,fetch(m+"/ability?name="+n.abilityName);case 4:if((t=e.sent).ok){e.next=8;break}return L("Something went wrong"),e.abrupt("return");case 8:return L(""),e.next=11,t.json();case 11:c=e.sent,o(c),(null===N||void 0===N?void 0:N.current)&&(N.current.value=n.abilityName);case 14:case"end":return e.stop()}}),e)}))),10)}),[n,N]),Object(a.useEffect)((function(){Object(v.a)(f.a.mark((function e(){var c,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===n||void 0===n?void 0:n.abilityName)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,fetch(m+"/".concat(t===p?"pokemon":"ability"));case 4:return c=e.sent,e.next=7,c.json();case 7:a=e.sent,o(a);case 9:case"end":return e.stop()}}),e)})))()}),[t,n]),Object(c.jsx)(k,{children:Object(c.jsxs)("div",{className:"PAGE-LISTSEARCH body",children:[Object(c.jsx)("div",{children:A}),t===p?Object(c.jsx)("h3",{className:"listSearchPrompt",children:"Search for pokemon by name or type!"}):Object(c.jsx)("h3",{className:"listSearchPrompt",children:"Search for pokemon abilities by name!"}),Object(c.jsxs)("form",{onSubmit:I,className:"listSearchForm",children:[t===p&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"radio",name:"searchRadio",value:"name",defaultChecked:!0,onChange:function(e){return d(e.target.value)}})," Name "]}),Object(c.jsxs)("label",{children:[Object(c.jsx)("input",{type:"radio",name:"searchRadio",value:"type",onChange:function(e){return d(e.target.value)}})," Type "]})]}),Object(c.jsx)("input",{className:"input",type:"text",name:"searchValue",onChange:function(e){return y(e.target.value)},ref:N}),Object(c.jsx)("button",{className:"btn",children:"Submit"}),Object(c.jsx)("button",{className:"btn",onClick:function(){return y("")},children:"Show All"})]}),i?Object(c.jsx)("ol",{className:"listSearchList",children:i.map((function(e){switch(t){case p:if(!P(t,e))break;return Object(c.jsx)(C,{pokemon:e},e.name);case O:if(!P(t,e))break;return Object(c.jsx)(E,{ability:e},e.name)}return Object(c.jsx)("li",{children:"Invalid list item"},Math.random())}))}):Object(c.jsx)("div",{style:{marginTop:"1.25rem"},children:"No results found"})]})})},A=n(18),L=n(24),I=function(e){var t=e.type,n=Object(a.useState)(""),r=Object(w.a)(n,2),s=r[0],i=r[1],u=Object(a.useState)({username:"",password:"",confirmPassword:t===j?"":null}),b=Object(w.a)(u,2),d=b[0],p=b[1],O=Object(o.b)(),h=Object(l.f)(),x=function(e){return p(Object(L.a)(Object(L.a)({},d),{},Object(A.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(v.a)(f.a.mark((function e(n){var c,a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t!==j||d.password===d.confirmPassword){e.next=3;break}return e.abrupt("return",i("Passwords must match"));case 3:return e.next=5,fetch(m+"/".concat(t===j?"signup":"login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d.username,password:d.password}),credentials:"include"});case 5:c=e.sent,a="",e.t0=c.status,e.next=200===e.t0?10:422===e.t0?14:401===e.t0?16:18;break;case 10:return r={username:d.username},O(g(t,r)),h.push("/"),e.abrupt("return");case 14:return a="Username not available",e.abrupt("break",19);case 16:return a="Invalid username/password",e.abrupt("break",19);case 18:a=t===j?"Error registering user":"Error signing in";case 19:i(a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(k,{children:Object(c.jsxs)("div",{className:"PAGE-LOGIN",children:[Object(c.jsxs)("h3",{children:["Please enter a username and password to ",t===j?"sign up":"log in"]}),Object(c.jsx)("div",{children:s}),Object(c.jsxs)("form",{onSubmit:y,children:[Object(c.jsx)("input",{className:"input",type:"text",name:"username",placeholder:"username",onChange:x}),Object(c.jsx)("input",{className:"input",type:"password",name:"password",placeholder:"password",onChange:x}),t===j&&Object(c.jsx)("input",{className:"input",type:"password",name:"confirmPassword",placeholder:"confirm password",onChange:x}),Object(c.jsx)("button",{className:"btn",children:"Submit"})]})]})})},D=function(e){var t=Object(a.useState)(""),n=Object(w.a)(t,2),r=n[0],s=n[1],i=Object(a.useState)(p),o=Object(w.a)(i,2),u=o[0],l=o[1],j=Object(a.useState)("POST"),b=Object(w.a)(j,2),d=b[0],h=b[1],x=Object(a.useState)(""),g=Object(w.a)(x,2),y=g[0],N=g[1],S=Object(a.useState)(""),C=Object(w.a)(S,2),E=C[0],P=C[1],T=Object(a.useState)(""),A=Object(w.a)(T,2),L=A[0],I=A[1],D=Object(a.useState)(""),F=Object(w.a)(D,2),G=F[0],R=F[1],B=Object(a.useState)(""),H=Object(w.a)(B,2),J=H[0],M=H[1],U=function(){var e=Object(v.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch(m+"".concat(u===p?"/pokemon":"/ability"),{method:d,headers:{"Content-Type":"application/json"},body:u===p?JSON.stringify({name:r,type1:y,type2:E,abilityName:L}):JSON.stringify({name:r,description:G})});case 3:200===(n=e.sent).status||201===n.status?M("Edit performed successfully"):M("Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(k,{children:Object(c.jsxs)("div",{className:"PAGE-ADMIN",children:[Object(c.jsx)("div",{children:J}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"types",children:[Object(c.jsxs)("label",{className:"radio",children:[Object(c.jsx)("input",{type:"radio",name:"type",defaultChecked:!0,value:p,onChange:function(e){return l(e.target.value)}})," Pokemon"]}),Object(c.jsxs)("label",{className:"radio",children:[Object(c.jsx)("input",{type:"radio",name:"type",value:O,onChange:function(e){return l(e.target.value)}})," Ability"]})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("label",{className:"radio",children:[Object(c.jsx)("input",{type:"radio",name:"method",defaultChecked:!0,value:"POST",onChange:function(e){return h(e.target.value)}})," Add"]}),Object(c.jsxs)("label",{className:"radio",children:[Object(c.jsx)("input",{type:"radio",name:"method",value:"DELETE",onChange:function(e){return h(e.target.value)}})," Delete"]})]})]}),"DELETE"===d?Object(c.jsxs)("form",{onSubmit:U,children:[Object(c.jsx)("input",{type:"text",placeholder:"name",className:"input",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("button",{className:"btn",children:"Submit"})]}):u===p?Object(c.jsxs)("form",{onSubmit:U,children:[Object(c.jsx)("input",{type:"text",className:"input",placeholder:"name",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{type:"text",className:"input",placeholder:"type 1",onChange:function(e){return N(e.target.value)}}),Object(c.jsx)("input",{type:"text",className:"input",placeholder:"type 2",onChange:function(e){return P(e.target.value)}}),Object(c.jsx)("input",{type:"text",className:"input",placeholder:"ability",onChange:function(e){return I(e.target.value)}}),Object(c.jsx)("button",{className:"btn",children:"Submit"})]}):Object(c.jsxs)("form",{onSubmit:U,children:[Object(c.jsx)("input",{type:"text",className:"input",placeholder:"name",onChange:function(e){return s(e.target.value)}}),Object(c.jsx)("input",{type:"textarea",className:"input",placeholder:"description",onChange:function(e){return R(e.target.value)}}),Object(c.jsx)("button",{className:"btn",children:"Submit"})]})]})})},F=function(e){var t=e.to,n=void 0===t?"/":t,r=Object(l.f)();return Object(a.useEffect)((function(){return r.push(n)})),Object(c.jsx)(c.Fragment,{})};var G=function(){var e=Object(o.c)((function(e){return e.user}));return Object(c.jsx)(u.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/client",exact:!0,component:S}),e?[Object(c.jsx)(l.a,{path:"/client/pokemon",exact:!0,component:function(){return Object(c.jsx)(T,{type:p})}},"/pokemon"),Object(c.jsx)(l.a,{path:"/client/abilities",exact:!0,component:function(){return Object(c.jsx)(T,{type:O})}},"/abilities")]:[Object(c.jsx)(l.a,{path:"/client/signup",exact:!0,component:function(){return Object(c.jsx)(I,{type:j})}},"/signup"),Object(c.jsx)(l.a,{path:"/client/login",exact:!0,component:function(){return Object(c.jsx)(I,{type:b})}},"/login")],e&&"admin"===e.username&&Object(c.jsx)(l.a,{path:"/client/admin",component:D},"/admin"),h.map((function(e){return Object(c.jsx)(l.a,{path:e,exact:!0,component:F},e)})),Object(c.jsx)(l.a,{path:"/",render:function(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:"404: Page Not Found"})," ",Object(c.jsx)("button",{children:Object(c.jsx)(u.b,{to:"/client",children:"Back to Home"})})]})}})]})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))},B=n(14),H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case j:case b:case d:return c;default:return e}},J=Object(B.b)({user:H}),M=Object(B.c)(J);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:M,children:Object(c.jsx)(G,{})})}),document.getElementById("root")),R()}},[[40,1,2]]]);
//# sourceMappingURL=main.cbb3c493.chunk.js.map